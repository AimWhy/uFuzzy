var fastfuzzy=function(t){"use strict";function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function n(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function r(t,e){this.source=t,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=e,this.destLen=0,this.ltree=new n,this.dtree=new n}var o=new n,i=new n,a=new Uint8Array(30),s=new Uint16Array(30),c=new Uint8Array(30),u=new Uint16Array(30),f=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=new n,d=new Uint8Array(320);function h(t,e,n,r){var o,i;for(o=0;n>o;++o)t[o]=0;for(o=0;30-n>o;++o)t[o+n]=o/n|0;for(i=r,o=0;30>o;++o)e[o]=i,i+=1<<t[o]}var g=new Uint16Array(16);function p(t,e,n,r){var o,i;for(o=0;16>o;++o)t.table[o]=0;for(o=0;r>o;++o)t.table[e[n+o]]++;for(t.table[0]=0,i=0,o=0;16>o;++o)g[o]=i,i+=t.table[o];for(o=0;r>o;++o)e[n+o]&&(t.trans[g[e[n+o]]++]=o)}function y(t){t.bitcount--||(t.tag=t.source[t.sourceIndex++],t.bitcount=7);var e=1&t.tag;return t.tag>>>=1,e}function b(t,e,n){if(!e)return n;for(;24>t.bitcount;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var r=t.tag&65535>>>16-e;return t.tag>>>=e,t.bitcount-=e,r+n}function A(t,e){for(;24>t.bitcount;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var n=0,r=0,o=0,i=t.tag;do{r=2*r+(1&i),i>>>=1,++o,n+=e.table[o],r-=e.table[o]}while(r>=0);return t.tag=i,t.bitcount-=o,e.trans[n+r]}function m(t,e,n){var r,o,i,a,s,c;for(r=b(t,5,257),o=b(t,5,1),i=b(t,4,4),a=0;19>a;++a)d[a]=0;for(a=0;i>a;++a){var u=b(t,3,0);d[f[a]]=u}for(p(l,d,0,19),s=0;r+o>s;){var h=A(t,l);switch(h){case 16:var g=d[s-1];for(c=b(t,2,3);c;--c)d[s++]=g;break;case 17:for(c=b(t,3,3);c;--c)d[s++]=0;break;case 18:for(c=b(t,7,11);c;--c)d[s++]=0;break;default:d[s++]=h}}p(e,d,0,r),p(n,d,r,o)}function v(t,e,n){for(;;){var r,o,i,f,l=A(t,e);if(256===l)return 0;if(256>l)t.dest[t.destLen++]=l;else for(r=b(t,a[l-=257],s[l]),o=A(t,n),f=i=t.destLen-b(t,c[o],u[o]);i+r>f;++f)t.dest[t.destLen++]=t.dest[f]}}function x(t){for(var e,n;t.bitcount>8;)t.sourceIndex--,t.bitcount-=8;if((e=256*(e=t.source[t.sourceIndex+1])+t.source[t.sourceIndex])!==(65535&~(256*t.source[t.sourceIndex+3]+t.source[t.sourceIndex+2])))return-3;for(t.sourceIndex+=4,n=e;n;--n)t.dest[t.destLen++]=t.source[t.sourceIndex++];return t.bitcount=0,0}!function(t,e){var n;for(n=0;7>n;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;24>n;++n)t.trans[n]=256+n;for(n=0;144>n;++n)t.trans[24+n]=n;for(n=0;8>n;++n)t.trans[168+n]=280+n;for(n=0;112>n;++n)t.trans[176+n]=144+n;for(n=0;5>n;++n)e.table[n]=0;for(e.table[5]=32,n=0;32>n;++n)e.trans[n]=n}(o,i),h(a,s,4,3),h(c,u,2,1),a[28]=0,s[28]=258;const S=18===new Uint8Array(new Uint32Array([305419896]).buffer)[0],U=(t,e,n)=>{let r=t[e];t[e]=t[n],t[n]=r};var w={swap32LE:t=>{S&&(t=>{const e=t.length;for(let n=0;e>n;n+=4)U(t,n,n+3),U(t,n+1,n+2)})(t)}};const z=function(t,e){var n,a,s=new r(t,e);do{switch(n=y(s),b(s,2,0)){case 0:a=x(s);break;case 1:a=v(s,o,i);break;case 2:m(s,s.ltree,s.dtree),a=v(s,s.ltree,s.dtree);break;default:a=-3}if(0!==a)throw Error("Data error")}while(!n);return s.dest.length>s.destLen?"function"==typeof s.dest.slice?s.dest.slice(0,s.destLen):s.dest.subarray(0,s.destLen):s.dest},{swap32LE:B}=w;var I={exports:{}};!function(t){!function(){t.exports=function(){var t="3.7.5",e=t,n="function"==typeof atob,r="function"==typeof btoa,o="function"==typeof Buffer,i="function"==typeof TextDecoder?new TextDecoder:void 0,a="function"==typeof TextEncoder?new TextEncoder:void 0,s=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),c=function(t){var e={};return t.forEach((function(t,n){return e[t]=n})),e}(s),u=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,f=String.fromCharCode.bind(String),l="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(t){return new Uint8Array(Array.prototype.slice.call(t,0))},d=function(t){return t.replace(/=/g,"").replace(/[+\/]/g,(function(t){return"+"==t?"-":"_"}))},h=function(t){return t.replace(/[^A-Za-z0-9\+\/]/g,"")},g=function(t){for(var e,n,r,o,i="",a=t.length%3,c=0;t.length>c;){if((n=t.charCodeAt(c++))>255||(r=t.charCodeAt(c++))>255||(o=t.charCodeAt(c++))>255)throw new TypeError("invalid character found");i+=s[(e=n<<16|r<<8|o)>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}return a?i.slice(0,a-3)+"===".substring(a):i},p=r?function(t){return btoa(t)}:o?function(t){return Buffer.from(t,"binary").toString("base64")}:g,y=o?function(t){return Buffer.from(t).toString("base64")}:function(t){for(var e=[],n=0,r=t.length;r>n;n+=4096)e.push(f.apply(null,t.subarray(n,n+4096)));return p(e.join(""))},b=function(t,e){return void 0===e&&(e=!1),e?d(y(t)):y(t)},A=function(t){if(2>t.length)return 128>(e=t.charCodeAt(0))?t:2048>e?f(192|e>>>6)+f(128|63&e):f(224|e>>>12&15)+f(128|e>>>6&63)+f(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return f(240|e>>>18&7)+f(128|e>>>12&63)+f(128|e>>>6&63)+f(128|63&e)},m=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,v=function(t){return t.replace(m,A)},x=o?function(t){return Buffer.from(t,"utf8").toString("base64")}:a?function(t){return y(a.encode(t))}:function(t){return p(v(t))},S=function(t,e){return void 0===e&&(e=!1),e?d(x(t)):x(t)},U=function(t){return S(t,!0)},w=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,z=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return f(55296+(e>>>10))+f(56320+(1023&e));case 3:return f((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return f((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},B=function(t){return t.replace(w,z)},I=function(t){if(t=t.replace(/\s+/g,""),!u.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));for(var e,n,r,o="",i=0;t.length>i;)e=c[t.charAt(i++)]<<18|c[t.charAt(i++)]<<12|(n=c[t.charAt(i++)])<<6|(r=c[t.charAt(i++)]),o+=64===n?f(e>>16&255):64===r?f(e>>16&255,e>>8&255):f(e>>16&255,e>>8&255,255&e);return o},C=n?function(t){return atob(h(t))}:o?function(t){return Buffer.from(t,"base64").toString("binary")}:I,L=o?function(t){return l(Buffer.from(t,"base64"))}:function(t){return l(C(t).split("").map((function(t){return t.charCodeAt(0)})))},E=function(t){return L(V(t))},D=o?function(t){return Buffer.from(t,"base64").toString("utf8")}:i?function(t){return i.decode(L(t))}:function(t){return B(C(t))},V=function(t){return h(t.replace(/[-_]/g,(function(t){return"-"==t?"+":"/"})))},k=function(t){return D(V(t))},T=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}},j=function(){var t=function(t,e){return Object.defineProperty(String.prototype,t,T(e))};t("fromBase64",(function(){return k(this)})),t("toBase64",(function(t){return S(this,t)})),t("toBase64URI",(function(){return S(this,!0)})),t("toBase64URL",(function(){return S(this,!0)})),t("toUint8Array",(function(){return E(this)}))},M=function(){var t=function(t,e){return Object.defineProperty(Uint8Array.prototype,t,T(e))};t("toBase64",(function(t){return b(this,t)})),t("toBase64URI",(function(){return b(this,!0)})),t("toBase64URL",(function(){return b(this,!0)}))},O={version:t,VERSION:e,atob:C,atobPolyfill:I,btoa:p,btoaPolyfill:g,fromBase64:k,toBase64:S,encode:S,encodeURI:U,encodeURL:U,utob:v,btou:B,decode:k,isValid:function(t){if("string"!=typeof t)return!1;var e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},fromUint8Array:b,toUint8Array:E,extendString:j,extendUint8Array:M,extendBuiltins:function(){j(),M()},Base64:{}};return Object.keys(O).forEach((function(t){return O.Base64[t]=O[t]})),O}()}("undefined"!=typeof self?self:"undefined"!=typeof window&&window)}(I);const C=1,L=2,E=4,D=8,V=16,k=32,T=64,j=128,M=256,O=512,P=1024,F=2048,X=4096,H=8192,Y=class{constructor(t){const e="function"==typeof t.readUInt32BE&&"function"==typeof t.slice;if(e||t instanceof Uint8Array){let n;if(e)this.highStart=t.readUInt32LE(0),this.errorValue=t.readUInt32LE(4),n=t.readUInt32LE(8),t=t.slice(12);else{const e=new DataView(t.buffer);this.highStart=e.getUint32(0,!0),this.errorValue=e.getUint32(4,!0),n=e.getUint32(8,!0),t=t.subarray(12)}t=z(t,new Uint8Array(n)),t=z(t,new Uint8Array(n)),B(t),this.data=new Uint32Array(t.buffer)}else({data:this.data,highStart:this.highStart,errorValue:this.errorValue}=t)}get(t){let e;return 0>t||t>1114111?this.errorValue:55296>t||t>56319&&65535>=t?(e=(this.data[t>>5]<<2)+(31&t),this.data[e]):t>65535?this.highStart>t?(e=this.data[2080+(t>>11)],e=this.data[e+(t>>5&63)],e=(e<<2)+(31&t),this.data[e]):this.data[this.data.length-4]:(e=(this.data[2048+(t-55296>>5)]<<2)+(31&t),this.data[e])}},Z=I.exports.Base64,Q=new Y(Z.toUint8Array("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")),R=new Y(Z.toUint8Array("AAACAAAAAACAOAAAAbYBSf7t2S1IBEEYBuDVDZ7FYrQMNsFiu3hgEYOI0SCXRIUrB8JhEZtgs5gEg1GMFk02m82oGI02m+9xezCOczv/uwv3fvAwc/PzfXOzcdqzWdaBDdiGPdiHdjE+DS3RNDuCfsn8idQ/g3OH3BdwKf0e96/gumTfYcncLdzBPTzAo+RZ+f0Cr/AG7/AJX4738x1wtz9FO5PX/50n6UXMNdfg/0lERERERERERERERETpdedHBvDRql4nq0cXtW9af98qdRby0Vvp8K4W0V+C5Xw0t4J2bfjeBp3cnEu1brnnCTYNa7eKdz91XP7WO9Lb4GqRb7cY6xbtAdqeVOsY/QGcevw/tb6OT85YhvfKYEx9CMuxKsKnrs+eJtVInVvHJ0eVYVvTZk2siFVLOCjb61PTZX3MdVWEyP7fjzpmMxdzTyq2Ebue6x61nXRGnzndWpf1an7dXmGYE4Y1ptqqKsK1nu26Ju0ty+maV2Rpvk+qnDZjKUIobUiesdAQE/jmCTmHmsskpFZsVYbtmXRcaoSGUPomunW2derQhDPFjtT1Q/eb8vnm990fq35oHVt11bU9m89c7DNI8Qs="));function W(t,e){return 0!=(t&e)}function N(t,e){const n=t.length;let r=0,o=0;for(let i=e;n>i+1;i++){const n=t[i+0],a=t[i+1];switch(W(n,k)||(r=0),o){case 2:case 0:o=W(n,H)?1:0;break;case 1:o=W(n,D)?1:W(n,V)&&W(a,H)?2:0}if(!W(n,C)||!W(a,L)){if(W(n,E|C|L))return i+1-e;if(W(a,E|C|L))return i+1-e;if(!(W(n,M)&&W(a,M|O|F|X)||W(n,F|O)&&W(a,O|P)||W(n,X|P)&&W(a,P)||W(a,D|V)||W(a,j)||W(n,T)||2===o)){if(!W(n,k)||!W(a,k)||r%2!=0)return i+1-e;r++}}}return n-e}var q=e((function(t){const e=[],n=[0],r=[];for(let e=0;t.length>e;){const o=t.codePointAt(e);r.push(Q.get(o)|R.get(o)),e+=o>65535?2:1,n.push(e)}for(let o=0;r.length>o;){const i=N(r,o);e.push(t.slice(n[o],n[o+i])),o+=i}return e}));const K=t=>t.normalize("NFKD").split(""),G=/^\s+$/,J=/^[`~!@#$%^&*()\-=_+{}[\]\|\\;':",./<>?]+$/,_={insertOrder:"insertOrder",bestMatch:"bestMatch"},$={keySelector:t=>t,threshold:.6,ignoreCase:!0,ignoreSymbols:!0,normalizeWhitespace:!0,returnMatchData:!1,useDamerau:!0,useSellers:!0,useSeparatedUnicode:!1,sortBy:_.bestMatch},tt=()=>{},et=t=>t instanceof Array?t:[t];function nt(t,e){const n=e.ignoreCase?t.toLocaleLowerCase():t,r=[],o=[];let i=!0,a=0;const s=e.useSeparatedUnicode?K(n):q(n);for(const t of s)G.lastIndex=0,J.lastIndex=0,e.normalizeWhitespace&&G.test(t)?i||(r.push(" "),o.push(a),i=!0):e.ignoreSymbols&&J.test(t)||(r.push(e.useSeparatedUnicode?t:t.normalize()),o.push(a),i=!1),a+=t.length;for(o.push(t.length);" "===r[r.length-1];)r.pop(),o.pop();return{original:t,normal:r,map:o}}function rt(t,e){return{index:e[t.start],length:e[t.end+1]-e[t.start]}}function ot(t,e){if(0===e)return{index:0,length:0};let n=e;for(let e=t.length-2;e>0&&n>1;e--){const r=t[e];n=r[n-1]>r[n]?n:n-1}return{start:n-1,end:e-1}}function it(){return{start:0,end:0}}const at=()=>!0,st=(t,e)=>e>t;function ct(t,e){return{score:1-t[t.length-1][e-1]/(Math.max(t.length,e)-1),scoreIndex:e-1}}function ut(t,e){if(1===t.length)return{score:1,scoreIndex:0};const n=t[t.length-1];let r=n[0],o=0;for(let t=1;e>t;t++){const e=n[t];r>e&&(r=e,o=t)}return{score:1-r/(t.length-1),scoreIndex:o}}function ft(t,e){const n=Array(t);for(let r=0;t>r;r++)n[r]=Array(e),n[r][0]=r;for(let t=0;e>t;t++)n[0][t]=t;return n}function lt(t,e){const n=Array(t);n[0]=Array(e).fill(0);for(let r=1;t>r;r++)n[r]=Array(e),n[r][0]=r;return n}function dt(t,e,n,r,o){const i=n[r],a=n[r+1];let s,c=a[o]+1;(s=i[o+1]+1)<c&&(c=s),(s=i[o]+(t[r]===e[o]?0:1))<c&&(c=s),a[o+1]=c}function ht(t,e,n,r){for(let o=0;t.length>o;o++)dt(t,e,n,o,r)}function gt(t,e,n,r){if(0!==r){t.length>0&&dt(t,e,n,0,r);for(let o=1;t.length>o;o++){const i=n[o],a=n[o+1],s=t[o]===e[r]?0:1;let c,u=a[r]+1;(c=i[r+1]+1)<u&&(u=c),(c=i[r]+s)<u&&(u=c),t[o]===e[r-1]&&t[o-1]===e[r]&&(c=n[o-1][r-1]+s)<u&&(u=c),a[r+1]=u}}else ht(t,e,n,r)}function pt(t,e,n){let r=t;for(let t=0;e.length>t;t++){const n=e[t];null==r.children[n]&&(r.children[n]={children:{},candidates:[],depth:0}),r.depth=Math.max(r.depth,e.length-t),r=r.children[n]}r.candidates.push(n)}function yt(t,e,n,r){for(const o of n){const n=et(r.keySelector(o)).map(((t,n)=>({index:e,keyIndex:n,item:o,normalized:nt(t,r)})));e++;for(const e of n)pt(t,e.normalized.normal,e)}}function bt(t,e){const n=e.score-t.score;if(0!==n)return n;const r=t.match.start-e.match.start;if(0!==r)return r;const o=t.keyIndex-e.keyIndex;if(0!==o)return o;const i=t.lengthDiff-e.lengthDiff;return 0!==i?i:At(t,e)}function At(t,e){return t.index-e.index}function mt(t){switch(t){case _.bestMatch:return bt;case _.insertOrder:return At;default:throw Error("unknown sortBy method "+t)}}function vt(t,e,n,r,o,i,a){const s={item:n.item,normalized:n.normalized,score:r,match:o,index:n.index,keyIndex:n.keyIndex,lengthDiff:i};null==e[n.index]?(e[n.index]=t.length,t.push(s)):0>a(s,t[e[n.index]])&&(t[e[n.index]]=s)}const xt=Math.max,St=t=>t;function Ut(t,e,n,r,o){const i=e+o,a=Math.min(n.length,e+t.depth+1),s=Math.ceil((i+a)/2);return 1-(s-a)/s>=r}function wt(t,e,n,r,o,i){return 1-Math.min(o,i-(t.depth+1))/n.length>=r}function zt(t,e,n){const r=n.useSellers?lt:ft,o={score:n.useDamerau?gt:ht,getLength:n.useSellers?St:xt,shouldUpdateScore:n.useSellers?st:at,shouldContinue:n.useSellers?wt:Ut,walkBack:n.useSellers?ot:it,compareItems:mt(n.sortBy)},i={},a=[],s=r(t.length+1,e.depth+1);if(0>=n.threshold||0===t.length)for(const n of e.candidates)vt(a,i,n,0,{index:0,length:0},t.length,o.compareItems);!function(t,e,n,r,o,i,a){const s=[];for(const n in t.children)s.push([t.children[n],1,n,0,e.length]);const c=Array(t.depth);for(;0!==s.length;){const[t,u,f,l,d]=s.pop();c[u-1]=f,n.score(e,c,r,u-1);const h=u,g=r[r.length-1][h];let p=l,y=d;if(n.shouldUpdateScore(g,d)&&(p=h,y=g),t.candidates.length>0){const s=1-y/n.getLength(e.length,u);if(s>=a.threshold){const a=ot(r,p),c=Math.abs(u-e.length);for(const e of t.candidates)vt(o,i,e,s,a,c,n.compareItems)}}for(const r in t.children){const o=t.children[r];n.shouldContinue(o,u,e,a.threshold,y,g)&&s.push([o,u+1,r,p,y])}}}(e,t,o,s,a,i,n);const c=a.sort(o.compareItems);if(n.returnMatchData){const t=n.useSellers?rt:tt;return c.map((e=>({item:e.item,original:e.normalized.original,key:e.normalized.normal.join(""),score:e.score,match:t(e.match,e.normalized.map)})))}return c.map((t=>t.item))}return t.Searcher=class{constructor(t,e){this.options=Object.assign({},$,e),this.trie={children:{},candidates:[],depth:0},yt(this.trie,0,t,this.options),this.count=t.length}add(...t){yt(this.trie,this.count,t,this.options),this.count+=t.length}search(t,e){return e=Object.assign({},this.options,e),zt(nt(t,this.options).normal,this.trie,e)}},t.fuzzy=function(t,e,n){const r=(n={...$,...n}).useSellers?lt:ft,o=n.useDamerau?gt:ht,i=n.useSellers?ut:ct;t=nt(t,n).normal;const a=nt(e,n),s=r(t.length+1,a.normal.length+1);for(let e=0;a.normal.length>e;e++)o(t,a.normal,s,e);const c=i(s,a.normal.length+1);return n.returnMatchData?{item:e,original:a.original,key:a.normal.join(""),score:c.score,match:n.useSellers?rt(ot(s,c.scoreIndex),a.map):void 0}:c.score},t.search=function(t,e,n){const r={children:{},candidates:[],depth:0};return yt(r,0,e,n={...$,...n}),zt(nt(t,n).normal,r,n)},t.sortKind=_,t}({});
